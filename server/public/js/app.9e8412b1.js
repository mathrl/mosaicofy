(function(){"use strict";var n={939:function(n,t,o){var e=o(963),r=o(252);const i=(0,r._)("h1",null,"Mosaicofy",-1);function a(n,t,o,e,a,s){const c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,(0,r.Wm)(c)],64)}var s={metaInfo:{title:"Default Title",titleTemplate:"%s | My Awesome Webapp"}},c=o(744);const u=(0,c.Z)(s,[["render",a]]);var l=u,d=o(119);const f={href:"/api/login"},p=(0,r._)("button",null,"Login with Spotify",-1),h=[p];function g(n,t,o,e,i,a){return(0,r.wg)(),(0,r.iD)("a",f,h)}var m={};const v=(0,c.Z)(m,[["render",g]]);var w=v,_=o(577);const b={class:"options"},y=(0,r._)("label",{for:"range"},"Time Frame: ",-1),k=(0,r._)("option",{value:"short_term"},"Last Month",-1),T=(0,r._)("option",{value:"medium_term"},"Last 6 Months",-1),O=(0,r._)("option",{value:"long_term"},"All Time",-1),S=[k,T,O],D={class:"options"},M=(0,r._)("label",{for:"showSongs"},"Show Songs: ",-1),j={id:"mosaic-container"},x={id:"mosaic"},C={key:0,class:"songInfo"},A={id:"songName"},I={id:"artistName"},z={id:"duration"};function F(n,t,o,e,i,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",b,[y,(0,r._)("select",{name:"range",id:"range",onChange:t[0]||(t[0]=n=>a.getTopTracks(n.target.value))},S,32)]),(0,r._)("div",D,[M,(0,r._)("input",{type:"checkbox",id:"showSongs",checked:"",onChange:t[1]||(t[1]=n=>i.showSongs=!i.showSongs)},null,32)]),(0,r._)("button",{class:"options",onClick:t[2]||(t[2]=(...n)=>a.download&&a.download(...n))},"Download Image"),(0,r._)("div",j,[(0,r._)("div",x,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.tracks,(n=>((0,r.wg)(),(0,r.iD)("div",{key:n.id,class:"cover",style:(0,_.j5)({background:`url(${n.album.images[1].url}) no-repeat`,"background-size":"contain"})},[i.showSongs?((0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("p",A,(0,_.zw)(n.name),1),(0,r._)("p",I,(0,_.zw)(n.artists[0].name),1),(0,r._)("p",z,(0,_.zw)(a.millisToMinutesAndSeconds(n.duration_ms)),1)])):(0,r.kq)("",!0)],4)))),128))])])],64)}var H=o(669),L=o.n(H),P=o(120),Y=o.n(P),Z=o(162),q={data(){return{tracks:[],time_range:"short_term",showSongs:!0}},created(){this.getUserInfo(),this.getTopTracks(this.time_range)},methods:{download(){Y()(document.querySelector("#mosaic"),{allowTaint:!0,useCORS:!0}).then((n=>{n.toBlob((function(n){(0,Z.saveAs)(n,"mosaicofy.png")}))}))},async getUserInfo(){try{const n=await L().get("/api/user");this.name=n.data.display_name}catch(n){this.name=n}},async getTopTracks(n){this.loaded=!0;try{const t=await L().get("/api/tracks/top/"+n);this.tracks=t.data.items,console.log(this.tracks)}catch(t){this.tracks=t}},millisToMinutesAndSeconds(n){var t=Math.floor(n/6e4),o=(n%6e4/1e3).toFixed(0);return 60==o?t+1+":00":t+":"+(o<10?"0":"")+o}}};const N=(0,c.Z)(q,[["render",F]]);var U=N;const W=[{path:"/",name:"home",component:w},{path:"/app",name:"app",component:U}],B=(0,d.p7)({history:(0,d.PO)("/"),routes:W});var E=B;const K=(0,e.ri)(l);K.use(E),K.mount("#app")}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,function(){var n=[];o.O=function(t,e,r,i){if(!e){var a=1/0;for(l=0;l<n.length;l++){e=n[l][0],r=n[l][1],i=n[l][2];for(var s=!0,c=0;c<e.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(n){return o.O[n](e[c])}))?e.splice(c--,1):(s=!1,i<a&&(a=i));if(s){n.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[e,r,i]}}(),function(){o.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return o.d(t,{a:t}),t}}(),function(){o.d=function(n,t){for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){var n={143:0};o.O.j=function(t){return 0===n[t]};var t=function(t,e){var r,i,a=e[0],s=e[1],c=e[2],u=0;if(a.some((function(t){return 0!==n[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var l=c(o)}for(t&&t(e);u<a.length;u++)i=a[u],o.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return o.O(l)},e=self["webpackChunkclient"]=self["webpackChunkclient"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=o.O(void 0,[998],(function(){return o(939)}));e=o.O(e)})();
//# sourceMappingURL=app.9e8412b1.js.map