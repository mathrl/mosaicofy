(function(){"use strict";var n={201:function(n,o,t){var e=t(963),a=t(252);function i(n,o){const t=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(t)}var s=t(744);const r={},c=(0,s.Z)(r,[["render",i]]);var l=c,u=t(119);const d=n=>((0,a.dD)("data-v-ff7e0964"),n=n(),(0,a.Cn)(),n),p={class:"container"},h=d((()=>(0,a._)("h1",null,"ðŸŽ§ Mosaicofy ðŸŽ§",-1))),f=d((()=>(0,a._)("h3",null," Create a mosaic/collage type art from your most listened spotify songs' covers ",-1))),_=d((()=>(0,a._)("a",{href:"/api/login"},[(0,a._)("button",null,"Login with Spotify")],-1)));function g(n,o){const t=(0,a.up)("about-popup");return(0,a.wg)(),(0,a.iD)("div",p,[h,f,_,(0,a.Wm)(t)])}const v={},m=(0,s.Z)(v,[["render",g],["__scopeId","data-v-ff7e0964"]]);var w=m,k=t(577);const y=(0,a._)("h1",null,"ðŸŽ§ Mosaicofy ðŸŽ§",-1),b={class:"options"},T=(0,a._)("label",{for:"range"},"Time Frame: ",-1),O=(0,a._)("option",{value:"short_term",selected:""},"Last Month",-1),S=(0,a._)("option",{value:"medium_term"},"Last 6 Months",-1),C=(0,a._)("option",{value:"long_term"},"All Time",-1),D=[O,S,C],x={class:"options"},M=(0,a._)("label",{for:"size"},"Size: ",-1),j=(0,a._)("option",{value:"3x5",selected:""},"3 x 5",-1),I=(0,a._)("option",{value:"4x5"},"4 x 5",-1),z=[j,I],U={class:"options"},A=(0,a._)("label",{for:"showSongs"},"Show Songs: ",-1),L={id:"mosaic-container"},P={key:0},q=(0,a._)("div",{class:"lds-ring"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1),H=[q],Y={key:0,class:"songInfo"},Z={id:"songName"},F={id:"artistName"},K={id:"duration"};function N(n,o,t,e,i,s){const r=(0,a.up)("about-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[y,(0,a._)("div",b,[T,(0,a._)("select",{name:"range",id:"range",onChange:o[0]||(o[0]=n=>s.getTopTracks(n.target.value))},D,32)]),(0,a._)("div",x,[M,(0,a._)("select",{id:"size",onChange:o[1]||(o[1]=n=>i.showTopTracksOnly=!i.showTopTracksOnly)},z,32)]),(0,a._)("div",U,[A,(0,a._)("input",{type:"checkbox",id:"showSongs",checked:"",onChange:o[2]||(o[2]=n=>i.showSongs=!i.showSongs)},null,32)]),(0,a._)("button",{class:"options",onClick:o[3]||(o[3]=(...n)=>s.download&&s.download(...n))},"Download Image"),(0,a._)("div",L,[(0,a._)("div",{id:"mosaic",class:(0,k.C_)(i.showTopTracksOnly?"":"showAllTracks")},[i.loading?((0,a.wg)(),(0,a.iD)("div",P,H)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tracksToDisplay,(n=>((0,a.wg)(),(0,a.iD)("div",{key:n.id,class:"cover",style:(0,k.j5)({background:`url(${n.album.images[1].url}) no-repeat`,"background-size":"contain"})},[i.showSongs?((0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("p",Z,(0,k.zw)(n.name),1),(0,a._)("p",F,(0,k.zw)(n.artists[0].name),1),(0,a._)("p",K,(0,k.zw)(s.millisToMinutesAndSeconds(n.duration_ms)),1)])):(0,a.kq)("",!0)],4)))),128))],2)]),(0,a.Wm)(r)],64)}var W=t(669),X=t.n(W),B=t(120),E=t.n(B),Q=t(162),R={data(){return{tracks:[],showTopTracksOnly:!0,time_range:"short_term",showSongs:!0,loading:!0}},computed:{tracksToDisplay(){return this.showTopTracksOnly?this.tracks.slice(0,15):this.tracks}},created(){this.getUserInfo(),this.getTopTracks(this.time_range)},methods:{download(){E()(document.querySelector("#mosaic"),{allowTaint:!0,useCORS:!0}).then((n=>{n.toBlob((function(n){(0,Q.saveAs)(n,"mosaicofy.png")}))}))},async getUserInfo(){try{const n=await X().get("/api/user");this.name=n.data.display_name}catch(n){this.name=n}},async getTopTracks(n){this.loading=!0,this.tracks=[];try{const o=await X().get("/api/tracks/top/"+n);this.loading=!1,this.tracks=o.data.items}catch(o){this.tracks=o}},millisToMinutesAndSeconds(n){var o=Math.floor(n/6e4),t=(n%6e4/1e3).toFixed(0);return 60==t?o+1+":00":o+":"+(t<10?"0":"")+t}}};const V=(0,s.Z)(R,[["render",N]]);var $=V;const G=[{path:"/",name:"home",component:w},{path:"/app",name:"app",component:$}],J=(0,u.p7)({history:(0,u.PO)("/"),routes:G});var nn=J;const on=n=>((0,a.dD)("data-v-4eea0c7c"),n=n(),(0,a.Cn)(),n),tn={key:0,id:"about"},en=(0,a.Uk)(" Made by "),an=on((()=>(0,a._)("a",{href:"https://www.linkedin.com/in/matheus-leite-87843216b/",target:"_blank"},"Matheus Leite",-1))),sn=on((()=>(0,a._)("br",null,null,-1))),rn=on((()=>(0,a._)("a",{class:"donation",href:"https://www.paypal.com/donate/?hosted_button_id=V3MHLY7QKLS7U",target:"_blank"},"Paypal",-1))),cn=on((()=>(0,a._)("br",null,null,-1))),ln=(0,a.Uk)(" I do not save any of your data. "),un=on((()=>(0,a._)("p",{id:"paymentInfo"},null,-1))),dn=on((()=>(0,a._)("p",null,[(0,a.Uk)(" The source code to this project is available "),(0,a._)("a",{target:"_blank",href:"https://github.com/mathrl/mosaicofy"},"here"),(0,a.Uk)(". ")],-1)));function pn(n,o,t,e,i,s){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",{id:"about-link",class:"link",onClick:o[0]||(o[0]=n=>i.open=!0)},"About"),i.open?((0,a.wg)(),(0,a.iD)("div",tn,[(0,a._)("div",null,[(0,a._)("p",null,[en,an,sn,(0,a._)("a",{class:"donation",onClick:o[1]||(o[1]=n=>i.donation="pix: 51999639004")},"PIX"),rn,(0,a._)("span",null,(0,k.zw)(i.donation),1),cn,ln]),un,dn,(0,a._)("button",{onClick:o[2]||(o[2]=n=>i.open=!1)},"X")])])):(0,a.kq)("",!0)],64)}var hn={data(){return{open:!1,donation:""}}};const fn=(0,s.Z)(hn,[["render",pn],["__scopeId","data-v-4eea0c7c"]]);var _n=fn;const gn=(0,e.ri)(l);gn.use(nn),gn.component("about-popup",_n),gn.mount("#app")}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={exports:{}};return n[e].call(i.exports,i,i.exports,t),i.exports}t.m=n,function(){var n=[];t.O=function(o,e,a,i){if(!e){var s=1/0;for(u=0;u<n.length;u++){e=n[u][0],a=n[u][1],i=n[u][2];for(var r=!0,c=0;c<e.length;c++)(!1&i||s>=i)&&Object.keys(t.O).every((function(n){return t.O[n](e[c])}))?e.splice(c--,1):(r=!1,i<s&&(s=i));if(r){n.splice(u--,1);var l=a();void 0!==l&&(o=l)}}return o}i=i||0;for(var u=n.length;u>0&&n[u-1][2]>i;u--)n[u]=n[u-1];n[u]=[e,a,i]}}(),function(){t.n=function(n){var o=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(o,{a:o}),o}}(),function(){t.d=function(n,o){for(var e in o)t.o(o,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:o[e]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)}}(),function(){var n={143:0};t.O.j=function(o){return 0===n[o]};var o=function(o,e){var a,i,s=e[0],r=e[1],c=e[2],l=0;if(s.some((function(o){return 0!==n[o]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(c)var u=c(t)}for(o&&o(e);l<s.length;l++)i=s[l],t.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return t.O(u)},e=self["webpackChunkclient"]=self["webpackChunkclient"]||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))}();var e=t.O(void 0,[998],(function(){return t(201)}));e=t.O(e)})();
//# sourceMappingURL=app.9e8c8f90.js.map